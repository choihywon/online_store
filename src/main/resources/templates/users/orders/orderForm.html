<!DOCTYPE html>
<html lang="ko" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>주문서 작성</title>
</head>
<body>
<h2>주문서 작성</h2>

<form action="/users/orders" method="post">
    <h3>배송지 선택</h3>
    <select name="deliveryAddressId">
        <option value="">배송지를 선택하세요</option>
        <option th:each="address : ${deliveryAddresses}" th:value="${address.id}"
                th:text="${address.addressName + ' (' + address.streetAddr + ')'}"></option>
    </select>

    <h4>새로운 배송지 입력</h4>
    <input type="text" name="addressName" placeholder="배송지 이름">
    <input type="text" name="zipcode" placeholder="우편번호">
    <input type="text" name="streetAddr" placeholder="도로명 주소">
    <input type="text" name="detailAddr" placeholder="상세 주소">
    <input type="text" name="etc" placeholder="기타 사항">

    <h3>주문할 상품</h3>
    <table border="1">
        <tr>
            <th>책 제목</th>
            <th>판매 가격</th>
            <th>수량</th>
        </tr>
        <tr th:each="cart : ${cartList}">
            <td th:text="${cart.inventoryForUserDto.title}"></td>
            <td th:text="${cart.inventoryForUserDto.salePrice} + '원'"></td>
            <td th:text="${cart.quantity}"></td>
            <input type="hidden" name="cartIds" th:value="${cart.cartId}">
        </tr>
    </table>

    <button type="submit">주문 완료</button>
</form>

<a href="/">홈으로</a>
</body>
</html>
